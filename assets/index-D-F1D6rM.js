(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&i(t)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const h=[{name:"Bizportal"},{name:"CBR"},{name:"I24"},{name:"IGN"},{name:"Mako"},{name:"Mynet"},{name:"Mynet2"},{name:"Mynet3"},{name:"News1"},{name:"NFC"},{name:"Nrg"},{name:"NYT"},{name:"One"},{name:"Onlife"},{name:"PokerNews"},{name:"TheMarker"},{name:"TheMarker - עיתונאי"},{name:"Time Out ישראל"},{name:"Time Out תל אביב"},{name:"Xnet"},{name:"Ynet",pattern:"news",override:{url:"`https://www.ynet.co.il/articles/1,7340,L-${articleId},00.html`",website:"[[Ynet]]"}},{name:"איי פייר"},{name:"אייס"},{name:"אנשים ומחשבים"},{name:"בגלל"},{name:"בילבורד"},{name:"גיקטיים"},{name:'גל"צ'},{name:"גלובס"},{name:'גלי צה"ל'},{name:"דבר העובדים"},{name:"דוקטורס"},{name:"הארץ",pattern:"news",override:{url:"`https://www.haaretz.co.il/news/politics/2011-09-12/ty-article/${articleId}`",website:"[[Haaretz]]"}},{name:"הארץ - עיתונאי"},{name:"הגרדיאן"},{name:"הטלגרף"},{name:"העין השביעית"},{name:"הערה"},{name:"וואלה!"},{name:"חדשות 13"},{name:"חי פה"},{name:"טקטיים"},{name:"ידיעות אחרונות"},{name:"ישראל דיפנס"},{name:"ישראל היום"},{name:"ישראל היום 1"},{name:"ישראל היום 2"},{name:"כאן"},{name:"כאן ארכיון"},{name:"כל העיר"},{name:"כלבו"},{name:"כלכליסט",pattern:"news",override:{url:"`https://www.calcalist.co.il/local/articles/0,7340,L-${articleId},00.html`",website:"[[Calcalist]]"}},{name:"מוסף כלכליסט"},{name:"מוסף שבת"},{name:"מידה"},{name:"מעריב אונליין"},{name:"מעריב השבוע"},{name:"מקור ראשון"},{name:"נענע10"},{name:"ספורט 5"},{name:"ספורט 5 משחקים"},{name:"ספורט1"},{name:"סרוגים"},{name:"עכבר העיר"},{name:"עכשיו 14"},{name:"עמוד ראשון"},{name:"ערוץ 20"},{name:"ערוץ הכלכלה"},{name:"ערוץ עשר"},{name:"ערוץ7",pattern:"news",override:{url:"`https://www.inn.co.il/news/${articleId}`",website:"[[Arutz Sheva]]"}},{name:"פורבס"},{name:"פנאי פלוס"},{name:"פרוגי"},{name:"קישור כללי",pattern:"general",override:null},{name:"רויטרס"},{name:"שיחה מקומית"},{name:"שקוף"}],g=[{name:"general",destination:"Cite web","field-map":{כותרת:"title",כתובת:"url",הכותב:"author",תאריך_וידוא:"access-date",אתר:"website",שפה:"language"},"ordered-field-map":null},{name:"news",destination:"Cite news","field-map":null,"ordered-field-map":["author","title","articleId","date"]}],w=Object.fromEntries(h.map(n=>[n.name,n])),y=Object.fromEntries(g.map(n=>[n.name,n]));function b(n){const a=v(n);if(!a)return"Invalid citation format.";const r=a.templateType,i=a.content,e=a.hasRefTags,o=$(i),t=O(r,o);return t?e||r=="הערה"?`<ref>${t}</ref>`:t:`Unsupported citation type: {{${r}}}`}function v(n){const a=[{regex:/^<ref>{{([^|]+)\|([\s\S]+?)}}<\/ref>$/,hasRefTags:!0},{regex:/^{{הערה\|(?:1=)?{{([^|]+)\|([\s\S]+?)}}}}$/,hasRefTags:!0},{regex:/^{{([^|]+)\|([\s\S]+?)}}$/,hasRefTags:!1}];for(const{regex:r,hasRefTags:i}of a){const e=n.match(r);if(e)return{templateType:e[1],content:e[2],hasRefTags:i}}return null}function $(n){const a=[];let r="",i=0;for(let t=0;t<n.length;t++){const s=n[t],u=n[t+1];s==="{"&&u==="{"?(i++,r+="{{",t++):s==="}"&&u==="}"?(i=Math.max(0,i-1),r+="}}",t++):s==="|"&&i===0?(a.push(r.trim()),r=""):r+=s}r&&a.push(r.trim());const e={},o=[];return a.forEach(t=>{const s=t.indexOf("=");if(s!==-1){const u=t.slice(0,s).trim(),f=t.slice(s+1).trim();e[u]=f}else o.push(t)}),{named:e,unnamed:o}}function T(n,a){return n.replace(/\$\{(\w+)\}/g,(r,i)=>a[i]??"")}function O(n,a){var f;const{named:r,unnamed:i}=a,e=w[n];if(!e)return null;const o=e.pattern||"general",t=y[o];if(!t)return null;const s=[],u=t.destination;if(t["field-map"])for(const[c,l]of Object.entries(t["field-map"])){const m=r[c];m!=null&&s.push(`${l}=${m}`)}if(t["ordered-field-map"]&&t["ordered-field-map"].forEach((c,l)=>{let m=i[l];c==="date"&&m&&(m=I(m)),m!=null&&s.push(`${c}=${m}`)}),e.override)for(const[c,l]of Object.entries(e.override)){const m=l.includes("${")?T(l,Object.fromEntries(((f=t["ordered-field-map"])==null?void 0:f.map((d,p)=>[d,i[p]]))||[])):l;s.push(`${c}=${m}`)}return`{{${u} ${s.map(c=>`|${c}`).join("")}}}`}function I(n){const a={ינואר:"January",פברואר:"February",מרץ:"March",אפריל:"April",מאי:"May",יוני:"June",יולי:"July",אוגוסט:"August",ספטמבר:"September",אוקטובר:"October",נובמבר:"November",דצמבר:"December"};return n.replace(/ב?(ינואר|פברואר|מרץ|אפריל|מאי|יוני|יולי|אוגוסט|ספטמבר|אוקטובר|נובמבר|דצמבר)/g,(r,i)=>a[i])}window.convertCitation=function(){const n=document.getElementById("input").value,a=b(n);document.getElementById("output").innerText=a,document.getElementById("copy-status").innerText=""};
